<h2>Cadastro - Formulário Reativo</h2>

<form [formGroup]="formularioUsuario" (ngSubmit)="aoEnviar()" novalidate>
  <label>
    Nome:
    <input formControlName="nome" />
    <div *ngIf="formularioUsuario.get('nome')?.invalid && formularioUsuario.get('nome')?.touched">
      <small *ngIf="formularioUsuario.get('nome')?.errors?.['required']">Nome é obrigatório.</small>
      <small *ngIf="formularioUsuario.get('nome')?.errors?.['minlength']">Mínimo de 3 caracteres.</small>
    </div>
  </label>

  <label>
    Email:
    <input formControlName="email" type="email" />
    <div *ngIf="formularioUsuario.get('email')?.invalid && formularioUsuario.get('email')?.touched">
      <small *ngIf="formularioUsuario.get('email')?.errors?.['required']">Email é obrigatório.</small>
      <small *ngIf="formularioUsuario.get('email')?.errors?.['email']">Formato inválido.</small>
    </div>
  </label>

  <label>
    Tipo de conta:
    <select formControlName="tipoConta">
      <option value="">Selecione</option>
      <option value="comum">Comum</option>
      <option value="admin">Admin</option>
    </select>
    <div *ngIf="formularioUsuario.get('tipoConta')?.invalid && formularioUsuario.get('tipoConta')?.touched">
      <small>Tipo de conta é obrigatório.</small>
    </div>
  </label>

  <label>
    Data de nascimento:
    <input type="date" formControlName="dataNascimento" />
    <div *ngIf="formularioUsuario.get('dataNascimento')?.invalid && formularioUsuario.get('dataNascimento')?.touched">
      <small>Data de nascimento é obrigatória.</small>
    </div>
  </label>

  <label class="checkbox-label">
    <input type="checkbox" formControlName="receberNewsletter" />
    <span>Deseja receber nossa newsletter?</span>
  </label>

  <button type="submit" [disabled]="formularioUsuario.invalid">Enviar</button>
</form>
